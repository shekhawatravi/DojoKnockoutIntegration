<!doctype html>
<html lang="en">
<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>Tutorial: Knockout and DOJO Testing</title>

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css">
    <script src="http://ajax.aspnetcdn.com/ajax/knockout/knockout-3.0.0.js"></script>

    <!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" ></script>

    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script>

</head>
<body>
        <div class="container">
            <!-- Content here -->
            <h3>Learning Knockout at Page - IndexKO.HTML</h3>
            <span class=" alert-primary"> First Name: </span> <input type="text"  data-bind='value: firstName'> </input>
            <span class=" alert-primary"> Last Name: </span> <input type="text"  data-bind='value: lastName'> </input> <br/>

            <span data-bind='text: firstName'> </span>
            <span data-bind='text: lastName'> </span> 

            <h1>Widget 1 Goes here !</h1> <button type="button" class="btn btn-primary">Change Value</button>
            <span class=" alert-primary"> Country Name: </span> <input type="text"  data-bind='value: country'> </input>
            <span class=" alert-primary"> State Name: </span> <input type="text"  data-bind='value: state'> </input> <br/>

            <span data-bind='text: country'> </span>
            <span data-bind='text: state'> </span>

            <div id="widget1Container"> </div>
            
        </div>


</body>
<!-- configure Dojo -->
<script>
    // Instead of using data-dojo-config, we're creating a dojoConfig
    // object *before* we load dojo.js; they're functionally identical,
    // it's just easier to read this approach with a larger configuration.
    var myBaseLoc = location.pathname.replace(/\/[^/]*$/, '') + '/MyApp';
    var dojoConfig = { 
        parseOnLoad: true, isDebug: true,
        async: true,
        // This code registers the correct location of the "demo"
        // package so we can load Dojo from the CDN whilst still
        // being able to load local modules
        packages: [
            { name: "MyApp", location: myBaseLoc }
        ] 
        /*,
        aliases: [  
          // ['jquery', 'https://code.jquery.com/jquery-2.1.3.min.js '],
          ['knockout', 'http://ajax.aspnetcdn.com/ajax/knockout/knockout-3.0.0.js ']  
        ]  */
    };
</script>
<!-- load Dojo -->
<script src="//ajax.googleapis.com/ajax/libs/dojo/1.9.6/dojo/dojo.js"
    data-dojo-config="async: true">
</script>
<!--<script type="text/javascript" src="MyApp/libs/knockout-3.4.2.js"></script> -->
<!-- <script src="//js.arcgis.com/3.20/"></script> -->



<!-- Load a "demo" module -->
<script>

    require([
        "dojo/parser",
        'dojo/dom',
        'MyApp/MyKOWidget/koWidget',
        'MyApp/MyKOWidget/koViewModel',
        'dojo/domReady!'
    ], function ( parser, dom, koWidget, koViewModel) {
        //parser.parse(); // Parse the page
        console.log("From koWidget: "+ koWidget.getValue());
        koWidget.increment();
        console.log("From koWidget: "+ koWidget.getValue());
        koWidget.increment();
        console.log("From koWidget: "+ koWidget.getValue());
        koWidget.increment();
        console.log("From koWidget: "+ koWidget.getValue());
        $(function() {
        // Handler for .ready() called.
            ko.applyBindings(new koViewModel.AssetVM() ); // Activate the Knockout JS
        });
        
            
        });
</script>

<script>
    
</script>
</html>